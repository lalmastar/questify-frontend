{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{TextField}from\"@mui/material\";import{useNavigate}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useDispatch}from\"react-redux\";import{registerThunk}from\"../features/asyncThunks/user.thunk\";import{LoginLoading}from\"../assets\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var navigate=useNavigate();var dispatch=useDispatch();var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _res$payload;var formData,email,firstname,lastname,profession,password,confPasword,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData(e.target);email=formData.get(\"email\");firstname=formData.get(\"firstname\");lastname=formData.get(\"lastname\");profession=formData.get(\"profession\");password=formData.get(\"password\");confPasword=formData.get(\"confirm_password\");if(!(!email||!password||!firstname||!lastname||!profession||!confPasword)){_context.next=11;break;}toast.error(\"Please enter all the details!\",{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});return _context.abrupt(\"return\");case 11:if(!(confPasword!==password)){_context.next=14;break;}toast.error(\"Please enter matching passwords!\",{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});return _context.abrupt(\"return\");case 14:setLoading(true);_context.next=17;return dispatch(registerThunk({firstname:firstname,lastname:lastname,email:email,profession:profession,password:password}));case 17:res=_context.sent;setLoading(false);if(res!==null&&res!==void 0&&(_res$payload=res.payload)!==null&&_res$payload!==void 0&&_res$payload.token){_context.next=22;break;}toast.error(\"invalid email and password\",{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});return _context.abrupt(\"return\");case 22:navigate(\"/select_avatar\");case 23:case\"end\":return _context.stop();}},_callee);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[!loading?/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",style:{height:\"60%\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Questify\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"username-container form-item\",children:[/*#__PURE__*/_jsx(TextField,{id:\"standard-firstname-input\",label:\"firstname\",name:\"firstname\",type:\"firstname\",variant:\"standard\"}),/*#__PURE__*/_jsx(TextField,{id:\"standard-lastname-input\",label:\"lastname\",name:\"lastname\",type:\"lastname\",variant:\"standard\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"email-container form-item\",children:/*#__PURE__*/_jsx(TextField,{id:\"standard-email-input\",label:\"email\",name:\"email\",type:\"email\",variant:\"standard\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"profession-container form-item\",children:/*#__PURE__*/_jsx(TextField,{id:\"standard-profession-input\",label:\"profession\",name:\"profession\",type:\"profession\",variant:\"standard\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"password-container form-item\",children:/*#__PURE__*/_jsx(TextField,{id:\"standard-password-input\",label:\"password\",name:\"password\",type:\"password\",variant:\"standard\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"confirm-password-container form-item\",children:/*#__PURE__*/_jsx(TextField,{id:\"standard-confirm-password-input\",label:\"confirm password\",name:\"confirm_password\",type:\"confirm-password\",variant:\"standard\"})}),/*#__PURE__*/_jsx(\"h4\",{onClick:function onClick(){return navigate(\"/login\");},children:/*#__PURE__*/_jsx(\"i\",{children:\"Already A user Login\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{height:\"10%\"},children:\"Register\"})]})]}):/*#__PURE__*/_jsx(\"div\",{style:{width:\"55vw\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"no-data\",children:[/*#__PURE__*/_jsx(LoginLoading,{}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"20px\"},children:\"Loading...\"})]})}),/*#__PURE__*/_jsx(ToastContainer,{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"light\"})]});};export default Register;","map":{"version":3,"names":["React","useState","TextField","useNavigate","ToastContainer","toast","useDispatch","registerThunk","LoginLoading","jsx","_jsx","jsxs","_jsxs","Register","_useState","_useState2","_slicedToArray","loading","setLoading","navigate","dispatch","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","_res$payload","formData","email","firstname","lastname","profession","password","confPasword","res","wrap","_callee$","_context","prev","next","preventDefault","FormData","target","get","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","abrupt","sent","payload","token","stop","_x","apply","arguments","className","children","style","height","onSubmit","id","label","name","type","variant","onClick","width","marginTop","newestOnTop","rtl","pauseOnFocusLoss"],"sources":["C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/src/pages/Register.page.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { TextField } from \"@mui/material\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { registerThunk } from \"../features/asyncThunks/user.thunk\";\r\nimport { LoginLoading } from \"../assets\";\r\n\r\nconst Register = () => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const email = formData.get(\"email\");\r\n    const firstname = formData.get(\"firstname\");\r\n    const lastname = formData.get(\"lastname\");\r\n    const profession = formData.get(\"profession\");\r\n    const password = formData.get(\"password\");\r\n    const confPasword = formData.get(\"confirm_password\");\r\n\r\n    if (\r\n      !email ||\r\n      !password ||\r\n      !firstname ||\r\n      !lastname ||\r\n      !profession ||\r\n      !confPasword\r\n    ) {\r\n      toast.error(\"Please enter all the details!\", {\r\n        position: \"bottom-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"light\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (confPasword !== password) {\r\n      toast.error(\"Please enter matching passwords!\", {\r\n        position: \"bottom-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"light\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const res = await dispatch(\r\n      registerThunk({ firstname, lastname, email, profession, password })\r\n    );\r\n    setLoading(false);\r\n\r\n    if (!res?.payload?.token) {\r\n      toast.error(\"invalid email and password\", {\r\n        position: \"bottom-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"light\",\r\n      });\r\n      return;\r\n    }\r\n    navigate(\"/select_avatar\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      {!loading ? (\r\n        <div className=\"login-form-container\" style={{ height: \"60%\" }}>\r\n          <h1>Questify</h1>\r\n          <hr />\r\n          <form onSubmit={handleFormSubmit}>\r\n            <div className=\"username-container form-item\">\r\n              <TextField\r\n                id=\"standard-firstname-input\"\r\n                label=\"firstname\"\r\n                name=\"firstname\"\r\n                type=\"firstname\"\r\n                variant=\"standard\"\r\n              />\r\n              <TextField\r\n                id=\"standard-lastname-input\"\r\n                label=\"lastname\"\r\n                name=\"lastname\"\r\n                type=\"lastname\"\r\n                variant=\"standard\"\r\n              />\r\n            </div>\r\n            <div className=\"email-container form-item\">\r\n              <TextField\r\n                id=\"standard-email-input\"\r\n                label=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                variant=\"standard\"\r\n              />\r\n            </div>\r\n            <div className=\"profession-container form-item\">\r\n              <TextField\r\n                id=\"standard-profession-input\"\r\n                label=\"profession\"\r\n                name=\"profession\"\r\n                type=\"profession\"\r\n                variant=\"standard\"\r\n              />\r\n            </div>\r\n            <div className=\"password-container form-item\">\r\n              <TextField\r\n                id=\"standard-password-input\"\r\n                label=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                variant=\"standard\"\r\n              />\r\n            </div>\r\n            <div className=\"confirm-password-container form-item\">\r\n              <TextField\r\n                id=\"standard-confirm-password-input\"\r\n                label=\"confirm password\"\r\n                name=\"confirm_password\"\r\n                type=\"confirm-password\"\r\n                variant=\"standard\"\r\n              />\r\n            </div>\r\n            <h4 onClick={() => navigate(\"/login\")}>\r\n              <i>Already A user Login</i>\r\n            </h4>\r\n            <button type=\"submit\" style={{ height: \"10%\" }}>\r\n              Register\r\n            </button>\r\n          </form>\r\n        </div>\r\n      ) : (\r\n        <div style={{ width: \"55vw\" }}>\r\n          <div className=\"no-data\">\r\n            <LoginLoading />\r\n            <p style={{marginTop:\"20px\"}}>Loading...</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <ToastContainer\r\n        position=\"bottom-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"4cAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,KAAQ,eAAe,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,cAAc,CAAEC,KAAK,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAE9C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,aAAa,KAAQ,oCAAoC,CAClE,OAASC,YAAY,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzC,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACrB,IAAAC,SAAA,CAA8Bb,QAAQ,CAAC,KAAK,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1B,GAAM,CAAAI,QAAQ,CAAGhB,WAAW,EAAE,CAC9B,GAAM,CAAAiB,QAAQ,CAAGd,WAAW,EAAE,CAE9B,GAAM,CAAAe,gBAAgB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,YAAA,KAAAC,QAAA,CAAAC,KAAA,CAAAC,SAAA,CAAAC,QAAA,CAAAC,UAAA,CAAAC,QAAA,CAAAC,WAAA,CAAAC,GAAA,QAAAZ,mBAAA,GAAAa,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC/Bd,CAAC,CAACe,cAAc,EAAE,CACZb,QAAQ,CAAG,GAAI,CAAAc,QAAQ,CAAChB,CAAC,CAACiB,MAAM,CAAC,CACjCd,KAAK,CAAGD,QAAQ,CAACgB,GAAG,CAAC,OAAO,CAAC,CAC7Bd,SAAS,CAAGF,QAAQ,CAACgB,GAAG,CAAC,WAAW,CAAC,CACrCb,QAAQ,CAAGH,QAAQ,CAACgB,GAAG,CAAC,UAAU,CAAC,CACnCZ,UAAU,CAAGJ,QAAQ,CAACgB,GAAG,CAAC,YAAY,CAAC,CACvCX,QAAQ,CAAGL,QAAQ,CAACgB,GAAG,CAAC,UAAU,CAAC,CACnCV,WAAW,CAAGN,QAAQ,CAACgB,GAAG,CAAC,kBAAkB,CAAC,MAGlD,CAACf,KAAK,EACN,CAACI,QAAQ,EACT,CAACH,SAAS,EACV,CAACC,QAAQ,EACT,CAACC,UAAU,EACX,CAACE,WAAW,GAAAI,QAAA,CAAAE,IAAA,WAEZpC,KAAK,CAACyC,KAAK,CAAC,+BAA+B,CAAE,CAC3CC,QAAQ,CAAE,cAAc,CACxBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,IAAI,CAClBC,YAAY,CAAE,IAAI,CAClBC,SAAS,CAAE,IAAI,CACfC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,OACT,CAAC,CAAC,CAAC,OAAAhB,QAAA,CAAAiB,MAAA,wBAIDrB,WAAW,GAAKD,QAAQ,GAAAK,QAAA,CAAAE,IAAA,WAC1BpC,KAAK,CAACyC,KAAK,CAAC,kCAAkC,CAAE,CAC9CC,QAAQ,CAAE,cAAc,CACxBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,IAAI,CAClBC,YAAY,CAAE,IAAI,CAClBC,SAAS,CAAE,IAAI,CACfC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,OACT,CAAC,CAAC,CAAC,OAAAhB,QAAA,CAAAiB,MAAA,mBAILtC,UAAU,CAAC,IAAI,CAAC,CAACqB,QAAA,CAAAE,IAAA,UACC,CAAArB,QAAQ,CACxBb,aAAa,CAAC,CAAEwB,SAAS,CAATA,SAAS,CAAEC,QAAQ,CAARA,QAAQ,CAAEF,KAAK,CAALA,KAAK,CAAEG,UAAU,CAAVA,UAAU,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAAC,CACpE,SAFKE,GAAG,CAAAG,QAAA,CAAAkB,IAAA,CAGTvC,UAAU,CAAC,KAAK,CAAC,CAAC,GAEbkB,GAAG,SAAHA,GAAG,YAAAR,YAAA,CAAHQ,GAAG,CAAEsB,OAAO,UAAA9B,YAAA,WAAZA,YAAA,CAAc+B,KAAK,EAAApB,QAAA,CAAAE,IAAA,WACtBpC,KAAK,CAACyC,KAAK,CAAC,4BAA4B,CAAE,CACxCC,QAAQ,CAAE,cAAc,CACxBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,IAAI,CAClBC,YAAY,CAAE,IAAI,CAClBC,SAAS,CAAE,IAAI,CACfC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,OACT,CAAC,CAAC,CAAC,OAAAhB,QAAA,CAAAiB,MAAA,mBAGLrC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,yBAAAoB,QAAA,CAAAqB,IAAA,MAAAlC,OAAA,GAC5B,kBAjEK,CAAAL,gBAAgBA,CAAAwC,EAAA,SAAAvC,IAAA,CAAAwC,KAAA,MAAAC,SAAA,OAiErB,CAED,mBACEnD,KAAA,QAAKoD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAC7B,CAAChD,OAAO,cACPL,KAAA,QAAKoD,SAAS,CAAC,sBAAsB,CAACE,KAAK,CAAE,CAAEC,MAAM,CAAE,KAAM,CAAE,CAAAF,QAAA,eAC7DvD,IAAA,OAAAuD,QAAA,CAAI,UAAQ,EAAK,cACjBvD,IAAA,SAAM,cACNE,KAAA,SAAMwD,QAAQ,CAAE/C,gBAAiB,CAAA4C,QAAA,eAC/BrD,KAAA,QAAKoD,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CvD,IAAA,CAACR,SAAS,EACRmE,EAAE,CAAC,0BAA0B,CAC7BC,KAAK,CAAC,WAAW,CACjBC,IAAI,CAAC,WAAW,CAChBC,IAAI,CAAC,WAAW,CAChBC,OAAO,CAAC,UAAU,EAClB,cACF/D,IAAA,CAACR,SAAS,EACRmE,EAAE,CAAC,yBAAyB,CAC5BC,KAAK,CAAC,UAAU,CAChBC,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,UAAU,CACfC,OAAO,CAAC,UAAU,EAClB,GACE,cACN/D,IAAA,QAAKsD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxCvD,IAAA,CAACR,SAAS,EACRmE,EAAE,CAAC,sBAAsB,CACzBC,KAAK,CAAC,OAAO,CACbC,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,OAAO,CACZC,OAAO,CAAC,UAAU,EAClB,EACE,cACN/D,IAAA,QAAKsD,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7CvD,IAAA,CAACR,SAAS,EACRmE,EAAE,CAAC,2BAA2B,CAC9BC,KAAK,CAAC,YAAY,CAClBC,IAAI,CAAC,YAAY,CACjBC,IAAI,CAAC,YAAY,CACjBC,OAAO,CAAC,UAAU,EAClB,EACE,cACN/D,IAAA,QAAKsD,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC3CvD,IAAA,CAACR,SAAS,EACRmE,EAAE,CAAC,yBAAyB,CAC5BC,KAAK,CAAC,UAAU,CAChBC,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,UAAU,CACfC,OAAO,CAAC,UAAU,EAClB,EACE,cACN/D,IAAA,QAAKsD,SAAS,CAAC,sCAAsC,CAAAC,QAAA,cACnDvD,IAAA,CAACR,SAAS,EACRmE,EAAE,CAAC,iCAAiC,CACpCC,KAAK,CAAC,kBAAkB,CACxBC,IAAI,CAAC,kBAAkB,CACvBC,IAAI,CAAC,kBAAkB,CACvBC,OAAO,CAAC,UAAU,EAClB,EACE,cACN/D,IAAA,OAAIgE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAvD,QAAQ,CAAC,QAAQ,CAAC,EAAC,CAAA8C,QAAA,cACpCvD,IAAA,MAAAuD,QAAA,CAAG,sBAAoB,EAAI,EACxB,cACLvD,IAAA,WAAQ8D,IAAI,CAAC,QAAQ,CAACN,KAAK,CAAE,CAAEC,MAAM,CAAE,KAAM,CAAE,CAAAF,QAAA,CAAC,UAEhD,EAAS,GACJ,GACH,cAENvD,IAAA,QAAKwD,KAAK,CAAE,CAAES,KAAK,CAAE,MAAO,CAAE,CAAAV,QAAA,cAC5BrD,KAAA,QAAKoD,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBvD,IAAA,CAACF,YAAY,IAAG,cAChBE,IAAA,MAAGwD,KAAK,CAAE,CAACU,SAAS,CAAC,MAAM,CAAE,CAAAX,QAAA,CAAC,YAAU,EAAI,GACxC,EAET,cACDvD,IAAA,CAACN,cAAc,EACb2C,QAAQ,CAAC,cAAc,CACvBC,SAAS,CAAE,IAAK,CAChBC,eAAe,CAAE,KAAM,CACvB4B,WAAW,CAAE,KAAM,CACnB3B,YAAY,MACZ4B,GAAG,CAAE,KAAM,CACXC,gBAAgB,MAChB3B,SAAS,MACTD,YAAY,MACZI,KAAK,CAAC,OAAO,EACb,GACE,CAEV,CAAC,CAED,cAAe,CAAA1C,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}