{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{TextField}from\"@mui/material\";import{useNavigate}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useDispatch}from\"react-redux\";import{loginThunk}from\"../features/asyncThunks/user.thunk\";import{LoginLoading}from\"../assets\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var navigate=useNavigate();var dispatch=useDispatch();var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _res$payload;var formData,email,password,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData(e.target);email=formData.get(\"email\");password=formData.get(\"password\");if(!(!email||!password)){_context.next=7;break;}toast.error('Please enter valid credentials!',{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});return _context.abrupt(\"return\");case 7:setLoading(true);_context.next=10;return dispatch(loginThunk({email:email,password:password}));case 10:res=_context.sent;setLoading(false);if(res!==null&&res!==void 0&&(_res$payload=res.payload)!==null&&_res$payload!==void 0&&_res$payload.token){_context.next=15;break;}toast.error('invalid email and password',{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});return _context.abrupt(\"return\");case 15:navigate(\"/\");case 16:case\"end\":return _context.stop();}},_callee);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",style:{position:\"absolute\"},children:!loading?/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Questify\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"email-container form-item\",children:/*#__PURE__*/_jsx(TextField,{id:\"email\",name:\"email\",label:\"email\",type:\"email\",variant:\"standard\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"password-container form-item\",children:/*#__PURE__*/_jsx(TextField,{id:\"password\",name:\"password\",label:\"password\",type:\"password\",variant:\"standard\"})}),/*#__PURE__*/_jsx(\"h4\",{onClick:function onClick(){return navigate(\"/register\");},children:/*#__PURE__*/_jsx(\"i\",{children:\"New user Register\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})]}):/*#__PURE__*/_jsx(\"div\",{style:{width:\"55vw\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"no-data\",children:[/*#__PURE__*/_jsx(LoginLoading,{}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"20px\"},children:\"Loading...\"})]})})}),/*#__PURE__*/_jsx(ToastContainer,{position:\"bottom-right\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"light\"})]});};export default Login;","map":{"version":3,"names":["React","useState","TextField","useNavigate","ToastContainer","toast","useDispatch","loginThunk","LoginLoading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_useState","_useState2","_slicedToArray","loading","setLoading","navigate","dispatch","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","_res$payload","formData","email","password","res","wrap","_callee$","_context","prev","next","preventDefault","FormData","target","get","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","abrupt","sent","payload","token","stop","_x","apply","arguments","children","className","style","onSubmit","id","name","label","type","variant","onClick","width","marginTop","newestOnTop","rtl","pauseOnFocusLoss"],"sources":["C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/src/pages/Login.page.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { TextField } from \"@mui/material\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loginThunk } from \"../features/asyncThunks/user.thunk\"\r\nimport { LoginLoading } from \"../assets\";\r\n\r\nconst Login = () => {\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const email = formData.get(\"email\")\r\n    const password = formData.get(\"password\")\r\n    if(!email || !password){\r\n      toast.error('Please enter valid credentials!', {\r\n        position: \"bottom-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"light\",\r\n        });\r\n        return;\r\n    }\r\n    setLoading(true)\r\n    const res=await dispatch(loginThunk({email,password}));\r\n    setLoading(false)\r\n    if(!res?.payload?.token){\r\n      toast.error('invalid email and password', {\r\n        position: \"bottom-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"light\",\r\n        });\r\n        return;\r\n    }\r\n\r\n    navigate(\"/\")\r\n\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <div className=\"login-container\" style={{position:\"absolute\"}}>\r\n      {!loading ?<div className=\"login-form-container\">\r\n        <h1>Questify</h1>\r\n        <hr />\r\n        <form onSubmit={handleFormSubmit}>\r\n          <div className=\"email-container form-item\">\r\n            <TextField\r\n              id=\"email\"\r\n              name=\"email\"\r\n              label=\"email\"\r\n              type=\"email\"\r\n              variant=\"standard\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"password-container form-item\">\r\n            <TextField\r\n              id=\"password\"\r\n              name=\"password\"\r\n              label=\"password\"\r\n              type=\"password\"\r\n              variant=\"standard\"\r\n            />\r\n          </div>\r\n\r\n          <h4 onClick={() => navigate(\"/register\")}>\r\n            <i>New user Register</i>\r\n          </h4>\r\n          <button type=\"submit\">Login</button>\r\n        </form>\r\n      </div>:\r\n    <div style={{ width: \"55vw\" }}>\r\n          <div className=\"no-data\">\r\n            <LoginLoading />\r\n            <p style={{marginTop:\"20px\"}}>Loading...</p>\r\n          </div>\r\n        </div>}\r\n    </div>\r\n      <ToastContainer\r\n        position=\"bottom-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n\r\n      />\r\n      </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}