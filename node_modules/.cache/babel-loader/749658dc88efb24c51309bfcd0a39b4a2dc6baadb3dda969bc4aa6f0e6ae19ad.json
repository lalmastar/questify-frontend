{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lalmastar\\\\OneDrive\\\\Desktop\\\\Questify\\\\questify-frontend\\\\src\\\\pages\\\\SelectAvatar.page.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Buffer } from \"buffer/\";\nimport axios from \"axios\";\nimport { v4 as uuid } from \"uuid\";\nimport { useDispatch } from \"react-redux\";\nimport { avatarThunk } from \"../features/asyncThunks/user.thunk\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SelectAvatar = () => {\n  _s();\n  const [avatars, setAvatars] = useState([]);\n  const [selected, setSelected] = useState(\"\");\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!localStorage.getItem(\"questify-log-isauth-T\")) {\n      navigate(\"/login\");\n    }\n    const data = [];\n    let image, buffer;\n    async function fetchData() {\n      for (let i = 0; i < 14; i++) {\n        image = await axios(`https://avatars.dicebear.com/api/adventurer/${Math.floor(Math.random() * 1000)}.svg`);\n        buffer = await new Buffer(image.data);\n        data.push(buffer.toString(\"base64\"));\n      }\n      setAvatars(data);\n    }\n    fetchData();\n  }, []);\n  const handleSetAavatar = async () => {\n    var _res$payload;\n    const res = await dispatch(avatarThunk({\n      avatar: `data:image/svg+xml;base64,${selected}`\n    }));\n    if ((_res$payload = res.payload) !== null && _res$payload !== void 0 && _res$payload.success) {\n      navigate(\"/\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form-container\",\n      style: {\n        height: \"65%\",\n        width: \"60%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Questify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"select-avatar-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"select-avatar-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Select Your Avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatars-container\",\n          children: avatars.length ? avatars.map(img => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `avatar ${selected === img ? \"active-avatar\" : \"\"}`,\n              onClick: () => {\n                setSelected(img);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"avatar\",\n                src: `data:image/svg+xml;base64,${img}`\n                // src={faker.image.avatar()}\n                ,\n                alt: \"avatar\",\n                width: \"100%\",\n                height: \"100%\"\n                // onClick={() => setSelectedAvatar(index)}\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 23\n              }, this)\n            }, uuid(), false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this);\n          }) : \"Please wait loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-button\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSetAavatar,\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(SelectAvatar, \"d3G8w/svh7GPSav4SSdXU3fn/VQ=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n_c = SelectAvatar;\nexport default SelectAvatar;\nvar _c;\n$RefreshReg$(_c, \"SelectAvatar\");","map":{"version":3,"names":["React","useEffect","useState","Buffer","axios","v4","uuid","useDispatch","avatarThunk","useNavigate","jsxDEV","_jsxDEV","SelectAvatar","_s","avatars","setAvatars","selected","setSelected","dispatch","navigate","localStorage","getItem","data","image","buffer","fetchData","i","Math","floor","random","push","toString","handleSetAavatar","_res$payload","res","avatar","payload","success","className","children","style","height","width","fileName","_jsxFileName","lineNumber","columnNumber","length","map","img","onClick","alt","src","_c","$RefreshReg$"],"sources":["C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/src/pages/SelectAvatar.page.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Buffer } from \"buffer/\";\r\nimport axios from \"axios\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { avatarThunk } from \"../features/asyncThunks/user.thunk\"\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst SelectAvatar = () => {\r\n  const [avatars, setAvatars] = useState([]);\r\n  const [selected, setSelected] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"questify-log-isauth-T\")) {\r\n      navigate(\"/login\");\r\n    }\r\n\r\n    const data = [];\r\n    let image, buffer;\r\n    async function fetchData() {\r\n      for (let i = 0; i < 14; i++) {\r\n        image = await axios(\r\n          `https://avatars.dicebear.com/api/adventurer/${Math.floor(\r\n            Math.random() * 1000\r\n          )}.svg`\r\n        );\r\n        buffer = await new Buffer(image.data);\r\n        data.push(buffer.toString(\"base64\"));\r\n      }\r\n      setAvatars(data);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleSetAavatar=async ()=>{\r\n    const res = await dispatch(avatarThunk({avatar:`data:image/svg+xml;base64,${selected}`}))\r\n    if(res.payload?.success){\r\n      navigate(\"/\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div\r\n        className=\"login-form-container\"\r\n        style={{ height: \"65%\", width: \"60%\" }}\r\n      >\r\n        <h1>Questify</h1>\r\n        <hr />\r\n        <div className=\"select-avatar-container\">\r\n          <div className=\"select-avatar-header\">\r\n            <h3>Select Your Avatar</h3>\r\n          </div>\r\n          <div className=\"avatars-container\">\r\n            {avatars.length\r\n              ? avatars.map((img) => {\r\n                  return (\r\n                    <div\r\n                      className={`avatar ${\r\n                        selected === img ? \"active-avatar\" : \"\"\r\n                      }`}\r\n                      key={uuid()}\r\n                      onClick={() => {\r\n                        setSelected(img);\r\n                      }}\r\n                    >\r\n                      <img\r\n                        alt=\"avatar\"\r\n                        src={`data:image/svg+xml;base64,${img}`}\r\n                        // src={faker.image.avatar()}\r\n                        alt=\"avatar\"\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        // onClick={() => setSelectedAvatar(index)}\r\n                      />\r\n                    </div>\r\n                  );\r\n                })\r\n              : \"Please wait loading...\"}\r\n          </div>\r\n          <div className=\"selected-button\">\r\n            <button onClick={handleSetAavatar} >Register</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectAvatar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}