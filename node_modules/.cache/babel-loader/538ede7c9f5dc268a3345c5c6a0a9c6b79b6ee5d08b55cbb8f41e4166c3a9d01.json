{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{AutherWriteBox,Nav}from\"../components\";import{useNavigate}from'react-router-dom';import{useDispatch,useSelector}from\"react-redux\";import{Loading,NoData}from'../assets';import useFetchHomeData from'../hooks/useFetchHomeData.hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cssW={bgColor:\"white\",itemBg:\"#d9d9d9\",isAns:true,isHeader:true,isFollowers:true,viewAns:true};var Questions=function Questions(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),pageNum=_useState2[0],setPageNum=_useState2[1];var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{questionAdded:state.qNaPage.questionAdded,answerAdded:state.qNaPage.answerAdded};}),questionAdded=_useSelector.questionAdded,answerAdded=_useSelector.answerAdded;var _useFetchHomeData=useFetchHomeData({questionAdded:questionAdded,answerAdded:answerAdded,pageNum:pageNum}),loading=_useFetchHomeData.isloading,hasmore=_useFetchHomeData.hasmore,pageData=_useFetchHomeData.pageData;var handleInfiniteScrol=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(Number(document.querySelector('.home-quest-continer').scrollTop)+719>=document.querySelector('.home-quest-continer').scrollHeight){if(hasmore)setPageNum(function(prev){return prev+1;});}case 1:case\"end\":return _context.stop();}},_callee);}));return function handleInfiniteScrol(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(!localStorage.getItem(\"questify-log-isauth-T\")){navigate(\"/login\");}},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"main\",{className:\"questions-main-container\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"home-quest-continer\",onScrollCapture:handleInfiniteScrol,children:[loading&&/*#__PURE__*/_jsx(\"p\",{style:{width:\"55vw\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(Loading,{})})}),!loading&&pageData.length?pageData.map(function(quest){return/*#__PURE__*/_jsx(\"div\",{className:\"question-box\",children:/*#__PURE__*/_jsx(AutherWriteBox,{styles:cssW,id:quest.id,statement:quest.question,user:quest.user,isupvoted:quest.isupvoted,upvotes:quest.upvotes,downvotes:quest.downvotes,isdownvoted:quest.isdownvoted,date:quest.date})},quest.id);}):'',!loading&&!pageData.length&&/*#__PURE__*/_jsx(\"p\",{style:{width:\"55vw\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"no-data\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"No Data\"}),/*#__PURE__*/_jsx(NoData,{})]})})]})})]});};export default Questions;","map":{"version":3,"names":["React","useEffect","useState","AutherWriteBox","Nav","useNavigate","useDispatch","useSelector","Loading","NoData","useFetchHomeData","jsx","_jsx","jsxs","_jsxs","cssW","bgColor","itemBg","isAns","isHeader","isFollowers","viewAns","Questions","_useState","_useState2","_slicedToArray","pageNum","setPageNum","navigate","dispatch","_useSelector","state","questionAdded","qNaPage","answerAdded","_useFetchHomeData","loading","isloading","hasmore","pageData","handleInfiniteScrol","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","Number","document","querySelector","scrollTop","scrollHeight","stop","_x","apply","arguments","localStorage","getItem","children","className","onScrollCapture","style","width","length","map","quest","styles","id","statement","question","user","isupvoted","upvotes","downvotes","isdownvoted","date"],"sources":["C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/src/pages/Questions.page.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport {AutherWriteBox, Nav} from \"../components\"\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Loading, NoData } from '../assets'\r\nimport useFetchHomeData from '../hooks/useFetchHomeData.hooks'\r\n\r\n  const cssW={\r\n    bgColor:\"white\",\r\n    itemBg:\"#d9d9d9\",\r\n    isAns:true,\r\n    isHeader:true,\r\n    isFollowers:true,\r\n    viewAns:true,\r\n  }\r\n\r\nconst Questions = () => {\r\n  const [pageNum, setPageNum] = useState(1);\r\n\r\n  const navigate=useNavigate();\r\n  const dispatch= useDispatch();\r\n\r\n  const { questionAdded, answerAdded } = useSelector((state) => ({\r\n    questionAdded: state.qNaPage.questionAdded,\r\n    answerAdded: state.qNaPage.answerAdded,\r\n  }));\r\n  \r\n  const {isloading:loading,hasmore,pageData} = useFetchHomeData({questionAdded,answerAdded,pageNum})\r\n\r\n  const handleInfiniteScrol=async (e)=>{\r\n    if(Number(document.querySelector('.home-quest-continer').scrollTop)+719>=document.querySelector('.home-quest-continer').scrollHeight){\r\n      if(hasmore)\r\n        setPageNum(prev=>prev+1);\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(!localStorage.getItem(\"questify-log-isauth-T\")){\r\n      navigate(\"/login\")\r\n    }\r\n  },[])\r\n\r\n  return (\r\n    <div>\r\n      <Nav />\r\n      <main className=\"questions-main-container\">\r\n        <section className='home-quest-continer' onScrollCapture={handleInfiniteScrol} >\r\n          {loading &&<p style={{width:\"55vw\"}} ><div className=\"no-data\">\r\n                  <Loading/>\r\n                </div></p>}\r\n          {(!loading && pageData.length) ?\r\n          pageData.map(quest=>{\r\n            return <div className=\"question-box\" key={quest.id} >\r\n             <AutherWriteBox styles={cssW} id={quest.id} statement={quest.question} user={quest.user} isupvoted={quest.isupvoted} upvotes={quest.upvotes} downvotes={quest.downvotes} isdownvoted={quest.isdownvoted} date={quest.date}  />\r\n            </div>\r\n          }):''}\r\n          {(!loading && !pageData.length) && <p style={{width:\"55vw\"}}><div className=\"no-data\">\r\n                  <h2>No Data</h2>\r\n                  <NoData/>\r\n                </div></p>}\r\n        </section>\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default Questions"],"mappings":"4cAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,OAAQC,cAAc,CAAEC,GAAG,KAAO,eAAe,CACjD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,OAAO,CAAEC,MAAM,KAAQ,WAAW,CAC3C,MAAO,CAAAC,gBAAgB,KAAM,iCAAiC,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5D,GAAM,CAAAC,IAAI,CAAC,CACTC,OAAO,CAAC,OAAO,CACfC,MAAM,CAAC,SAAS,CAChBC,KAAK,CAAC,IAAI,CACVC,QAAQ,CAAC,IAAI,CACbC,WAAW,CAAC,IAAI,CAChBC,OAAO,CAAC,IACV,CAAC,CAEH,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,IAAAC,SAAA,CAA8BrB,QAAQ,CAAC,CAAC,CAAC,CAAAsB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1B,GAAM,CAAAI,QAAQ,CAACvB,WAAW,EAAE,CAC5B,GAAM,CAAAwB,QAAQ,CAAEvB,WAAW,EAAE,CAE7B,IAAAwB,YAAA,CAAuCvB,WAAW,CAAC,SAACwB,KAAK,QAAM,CAC7DC,aAAa,CAAED,KAAK,CAACE,OAAO,CAACD,aAAa,CAC1CE,WAAW,CAAEH,KAAK,CAACE,OAAO,CAACC,WAC7B,CAAC,EAAC,CAAC,CAHKF,aAAa,CAAAF,YAAA,CAAbE,aAAa,CAAEE,WAAW,CAAAJ,YAAA,CAAXI,WAAW,CAKlC,IAAAC,iBAAA,CAA6CzB,gBAAgB,CAAC,CAACsB,aAAa,CAAbA,aAAa,CAACE,WAAW,CAAXA,WAAW,CAACR,OAAO,CAAPA,OAAO,CAAC,CAAC,CAAjFU,OAAO,CAAAD,iBAAA,CAAjBE,SAAS,CAASC,OAAO,CAAAH,iBAAA,CAAPG,OAAO,CAACC,QAAQ,CAAAJ,iBAAA,CAARI,QAAQ,CAEzC,GAAM,CAAAC,mBAAmB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOC,CAAC,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAChC,GAAGC,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC,CAACC,SAAS,CAAC,CAAC,GAAG,EAAEF,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC,CAACE,YAAY,CAAC,CACnI,GAAGlB,OAAO,CACRX,UAAU,CAAC,SAAAuB,IAAI,QAAE,CAAAA,IAAI,CAAC,CAAC,GAAC,CAC5B,CAAC,wBAAAD,QAAA,CAAAQ,IAAA,MAAAZ,OAAA,GACF,kBALK,CAAAL,mBAAmBA,CAAAkB,EAAA,SAAAjB,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAKxB,CAED3D,SAAS,CAAC,UAAI,CACZ,GAAG,CAAC4D,YAAY,CAACC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAChDlC,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAC,EAAE,CAAC,CAEL,mBACEd,KAAA,QAAAiD,QAAA,eACEnD,IAAA,CAACR,GAAG,IAAG,cACPQ,IAAA,SAAMoD,SAAS,CAAC,0BAA0B,CAAAD,QAAA,cACxCjD,KAAA,YAASkD,SAAS,CAAC,qBAAqB,CAACC,eAAe,CAAEzB,mBAAoB,CAAAuB,QAAA,EAC3E3B,OAAO,eAAGxB,IAAA,MAAGsD,KAAK,CAAE,CAACC,KAAK,CAAC,MAAM,CAAE,CAAAJ,QAAA,cAAEnD,IAAA,QAAKoD,SAAS,CAAC,SAAS,CAAAD,QAAA,cACtDnD,IAAA,CAACJ,OAAO,IAAE,EACN,EAAI,CACd,CAAC4B,OAAO,EAAIG,QAAQ,CAAC6B,MAAM,CAC7B7B,QAAQ,CAAC8B,GAAG,CAAC,SAAAC,KAAK,CAAE,CAClB,mBAAO1D,IAAA,QAAKoD,SAAS,CAAC,cAAc,CAAAD,QAAA,cACnCnD,IAAA,CAACT,cAAc,EAACoE,MAAM,CAAExD,IAAK,CAACyD,EAAE,CAAEF,KAAK,CAACE,EAAG,CAACC,SAAS,CAAEH,KAAK,CAACI,QAAS,CAACC,IAAI,CAAEL,KAAK,CAACK,IAAK,CAACC,SAAS,CAAEN,KAAK,CAACM,SAAU,CAACC,OAAO,CAAEP,KAAK,CAACO,OAAQ,CAACC,SAAS,CAAER,KAAK,CAACQ,SAAU,CAACC,WAAW,CAAET,KAAK,CAACS,WAAY,CAACC,IAAI,CAAEV,KAAK,CAACU,IAAK,EAAI,EADrLV,KAAK,CAACE,EAAE,CAE5C,CACR,CAAC,CAAC,CAAC,EAAE,CACH,CAACpC,OAAO,EAAI,CAACG,QAAQ,CAAC6B,MAAM,eAAKxD,IAAA,MAAGsD,KAAK,CAAE,CAACC,KAAK,CAAC,MAAM,CAAE,CAAAJ,QAAA,cAACjD,KAAA,QAAKkD,SAAS,CAAC,SAAS,CAAAD,QAAA,eAC7EnD,IAAA,OAAAmD,QAAA,CAAI,SAAO,EAAK,cAChBnD,IAAA,CAACH,MAAM,IAAE,GACL,EAAI,GACR,EACL,GACH,CAEV,CAAC,CAID,cAAe,CAAAa,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}