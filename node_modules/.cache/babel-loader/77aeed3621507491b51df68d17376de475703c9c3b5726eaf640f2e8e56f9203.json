{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{Loading,NoData}from\"../assets\";import{Nav,AllQuestions,UserInputBox,QuestionNAnswers}from\"../components\";import{useSelector}from\"react-redux\";import useFetchHomeData from\"../hooks/useFetchHomeData.hooks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),pageNum=_useState2[0],setPageNum=_useState2[1];var navigate=useNavigate();var _useSelector=useSelector(function(state){return{questionAdded:state.qNaPage.questionAdded,answerAdded:state.qNaPage.answerAdded};}),questionAdded=_useSelector.questionAdded,answerAdded=_useSelector.answerAdded;var _useFetchHomeData=useFetchHomeData({questionAdded:questionAdded,answerAdded:answerAdded,pageNum:pageNum}),isloading=_useFetchHomeData.isloading,hasmore=_useFetchHomeData.hasmore,pageData=_useFetchHomeData.pageData,questionsData=_useFetchHomeData.questionsData;var handleInfiniteScrol=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(Number(document.querySelector('.home-quest-continer').scrollTop)+719>=document.querySelector('.home-quest-continer').scrollHeight){if(hasmore)setPageNum(function(prev){return prev+1;});}case 1:case\"end\":return _context.stop();}},_callee);}));return function handleInfiniteScrol(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(!localStorage.getItem(\"questify-log-isauth-T\")){navigate(\"/login\");}},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"home-container\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"home-main-container\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"home-quest-continer\",onScrollCapture:handleInfiniteScrol,children:[/*#__PURE__*/_jsx(UserInputBox,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-quest-scroll\",children:[isloading&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(Loading,{})})}),!isloading&&pageData!==null&&pageData!==void 0&&pageData.length?pageData.map(function(quest,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(QuestionNAnswers,{quest:quest})},quest.id);}):\"\",!isloading&&!(pageData!==null&&pageData!==void 0&&pageData.length)&&/*#__PURE__*/_jsxs(\"div\",{className:\"no-data\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"No Data\"}),/*#__PURE__*/_jsx(NoData,{})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[isloading&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(Loading,{})})}),!isloading&&questionsData!==null&&questionsData!==void 0&&questionsData.length?/*#__PURE__*/_jsx(AllQuestions,{data:questionsData,title:\"All Questions\"}):\"\"]})]})})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Loading","NoData","Nav","AllQuestions","UserInputBox","QuestionNAnswers","useSelector","useFetchHomeData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","_useState","_useState2","_slicedToArray","pageNum","setPageNum","navigate","_useSelector","state","questionAdded","qNaPage","answerAdded","_useFetchHomeData","isloading","hasmore","pageData","questionsData","handleInfiniteScrol","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","Number","document","querySelector","scrollTop","scrollHeight","stop","_x","apply","arguments","localStorage","getItem","children","className","onScrollCapture","length","map","quest","index","id","data","title"],"sources":["C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/src/pages/Home.page.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Loading,NoData } from \"../assets\";\r\n\r\nimport {\r\n  Nav,\r\n  AllQuestions,\r\n  UserInputBox,\r\n  QuestionNAnswers,\r\n} from \"../components\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport useFetchHomeData from \"../hooks/useFetchHomeData.hooks\";\r\n\r\nconst Home = () => {\r\n  const [pageNum, setPageNum] = useState(1);\r\n\r\n  const navigate = useNavigate();\r\n  const { questionAdded, answerAdded } = useSelector((state) => ({\r\n    questionAdded: state.qNaPage.questionAdded,\r\n    answerAdded: state.qNaPage.answerAdded,\r\n  }));\r\n\r\n  const {isloading,hasmore,pageData,questionsData} = useFetchHomeData({questionAdded,answerAdded,pageNum})\r\n\r\n  const handleInfiniteScrol=async (e)=>{\r\n    if(Number(document.querySelector('.home-quest-continer').scrollTop)+719>=document.querySelector('.home-quest-continer').scrollHeight){\r\n      if(hasmore)\r\n        setPageNum(prev=>prev+1);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"questify-log-isauth-T\")) {\r\n      navigate(\"/login\");\r\n    }\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <>\r\n      <Nav />\r\n      <div className=\"home-container\">\r\n        <main className=\"home-main-container\">\r\n          <section className=\"home-quest-continer\" onScrollCapture={handleInfiniteScrol} >\r\n            <UserInputBox />\r\n            <div className=\"home-quest-scroll\" >\r\n            {isloading && <p><div className=\"no-data\">\r\n                  <Loading/>\r\n                </div></p>}\r\n              {(!isloading && pageData?.length)\r\n                ? pageData.map((quest,index) => {\r\n                    return <div key={quest.id} ><QuestionNAnswers quest={quest} /></div>;\r\n                  }):\"\"}\r\n            {!isloading && !pageData?.length &&<div className=\"no-data\">\r\n                  <h2>No Data</h2>\r\n                  <NoData/>\r\n                </div> }\r\n            </div>\r\n          </section>\r\n          <section>\r\n          {isloading && <p><div className=\"no-data\">\r\n                  <Loading/>\r\n                </div></p>}\r\n            {(!isloading && questionsData?.length )? <AllQuestions data={questionsData} title={\"All Questions\"} />:\"\" }\r\n          </section>\r\n        </main>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}