{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{AllQuestions,Nav,QuestionNAnswers}from\"../components\";import styled from\"styled-components\";import{search}from\"../features/asyncThunks/queries.thunk\";import{recommended_Questions}from\"../features/asyncThunks/questions.thunk\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),searchData=_useState2[0],setSearchData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),questionsData=_useState4[0],setQuestionsData=_useState4[1];var _useParams=useParams(),question=_useParams.question;var navigate=useNavigate();var dispatch=useDispatch();useEffect(function(){if(!localStorage.getItem(\"questify-log-isauth-T\")){navigate(\"/login\");}function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var pgData,newData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(search({search:question}));case 2:pgData=_context.sent;setSearchData(pgData.payload.questions);_context.next=6;return dispatch(recommended_Questions({question:question}));case 6:newData=_context.sent;setQuestionsData(newData.payload);case 8:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[,question]);return/*#__PURE__*/_jsx(Component,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"home-container\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"home-main-container\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"home-quest-continer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-result-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\" search results for \\u2022 \"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"i\",{children:question})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"home-quest-scroll\",children:searchData!==null&&searchData!==void 0&&searchData.length?searchData.map(function(search){return/*#__PURE__*/_jsx(QuestionNAnswers,{quest:search},search.id);}):\"\"})]}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(AllQuestions,{data:questionsData,title:\"Search Related Questions\"})})]})})]})});};var Component=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  .search-result-container {\\n    width: 100%;\\n    background-color: #fff;\\n    padding: 10px;\\n    display: grid;\\n    grid-template-columns: 22% 78%;\\n\\n    h3 {\\n      font-weight: 600;\\n    }\\n\\n    p {\\n      width: 100%;\\n      margin-left: 5px;\\n      font-size: 16px;\\n      font-weight: 500;\\n      overflow-wrap: break-word;\\n      word-wrap: break-word;\\n      hyphens: auto;\\n    }\\n  }\\n\"])));export default Search;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","AllQuestions","Nav","QuestionNAnswers","styled","search","recommended_Questions","useDispatch","jsx","_jsx","jsxs","_jsxs","Search","_useState","_useState2","_slicedToArray","searchData","setSearchData","_useState3","_useState4","questionsData","setQuestionsData","_useParams","question","navigate","dispatch","localStorage","getItem","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","pgData","newData","wrap","_callee$","_context","prev","next","sent","payload","questions","stop","Component","children","className","length","map","quest","id","data","title","div","_templateObject","_taggedTemplateLiteral"],"sources":["C:/Users/lalmastar/OneDrive/Desktop/Questify/questify-frontend/src/pages/Search.page.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams ,useNavigate } from \"react-router-dom\";\r\nimport { AllQuestions, Nav, QuestionNAnswers } from \"../components\";\r\nimport styled from \"styled-components\";\r\nimport { search } from \"../features/asyncThunks/queries.thunk\";\r\nimport { recommended_Questions } from \"../features/asyncThunks/questions.thunk\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst Search = () => {\r\n  const [searchData, setSearchData] = useState([]);\r\n  const [questionsData, setQuestionsData] = useState([]);\r\n\r\n  const { question } = useParams();\r\n  const navigate = useNavigate();\r\nconst dispatch=useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"questify-log-isauth-T\")) {\r\n      navigate(\"/login\");\r\n    }\r\n    async function fetchData() {\r\n      const pgData = await dispatch(search({  search:question }));\r\n      setSearchData(pgData.payload.questions);\r\n      const newData = await dispatch(recommended_Questions({question }));\r\n      setQuestionsData(newData.payload);\r\n    }\r\n    fetchData();\r\n  }, [,question]);\r\n\r\n  return (\r\n    <Component>\r\n      <div>\r\n        <Nav />\r\n        <div className=\"home-container\">\r\n          <main className=\"home-main-container\">\r\n            <section className=\"home-quest-continer\">\r\n              <div className=\"search-result-container\">\r\n                <h3> search results for &#x2022; </h3>{\" \"}\r\n                <p>\r\n                  <i>{question}</i>\r\n                </p>\r\n              </div>\r\n              <div className=\"home-quest-scroll\">\r\n                {\r\n                    searchData?.length ?\r\n                    searchData.map(search=>{\r\n                        return <QuestionNAnswers key={search.id} quest={search} />\r\n                    }):\"\"\r\n                }\r\n\r\n              </div>\r\n            </section>\r\n            <section>\r\n                <AllQuestions data={questionsData} title={\"Search Related Questions\"}/>\r\n            </section>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </Component>\r\n  );\r\n};\r\n\r\nvar Component = styled.div`\r\n  .search-result-container {\r\n    width: 100%;\r\n    background-color: #fff;\r\n    padding: 10px;\r\n    display: grid;\r\n    grid-template-columns: 22% 78%;\r\n\r\n    h3 {\r\n      font-weight: 600;\r\n    }\r\n\r\n    p {\r\n      width: 100%;\r\n      margin-left: 5px;\r\n      font-size: 16px;\r\n      font-weight: 500;\r\n      overflow-wrap: break-word;\r\n      word-wrap: break-word;\r\n      hyphens: auto;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Search;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}